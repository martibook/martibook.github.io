<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Marti</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" type="image/x-icon" href="../img/favicon.ico" />
        <!--Bootstrap 4-->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
        <!--icons-->
        <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <!--vendors-->
        <!-- <link rel="stylesheet" href="../js/vendors/daterangepicker/daterangepicker.css" /> -->
        <!--custom css-->
        <link rel="stylesheet" href="../css/components.css" />
        <link rel="stylesheet" href="../css/colors.css" />
        <link rel="stylesheet" href="../css/demo.css" />
    </head>
    <body>

        <!--header-->
        <nav class="navbar navbar-toggleable-md fixed-top navbar-transparent sticky-navigation-alt">
            <!-- <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                <span class="ion-grid"></span>
            </button> -->

            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="nav-reads" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Reads
                        </a>
                        <div class="dropdown-menu" aria-labelledby="nav-reads">
                            <a class="dropdown-item page-scroll" href="#" onclick="showReads('capital_market_cn_volume_6')">中国资本市场的理论逻辑卷六</a>
                            <a class="dropdown-item page-scroll" href="#" onclick="showReads('man_and_superman')">人与超人</a>
                            <a class="dropdown-item page-scroll" href="#" onclick="showReads('will_china')">中国会走向资本主义道路吗</a>
                            <a class="dropdown-item page-scroll" href="#" onclick="showReads('the_moon_and_sixpence')">月亮与六便士</a>
                            <a class="dropdown-item page-scroll" href="#" onclick="showReads('italy_fairy')">意大利童话</a>
                            <a class="dropdown-item page-scroll" href="#" onclick="showReads('non_relation')">无缘社会</a>
                            <a class="dropdown-item page-scroll" href="#" onclick="showReads('tianjin')">天津往事：藏在旧时光里的秘密地图</a>
                            <a class="dropdown-item page-scroll" href="#" onclick="showReads('food_in_the_world')">人间美食</a>
                            <a class="dropdown-item page-scroll" href="#" onclick="showReads('jiang_cheng')">江城</a>
                            <a class="dropdown-item page-scroll" href="#" onclick="showReads('have_to_say')">非说不可</a>
                            <a class="dropdown-item page-scroll" href="#" onclick="showReads('evaristo_carriego')">埃瓦里斯托 卡列戈</a>
                            <a class="dropdown-item page-scroll" href="#" onclick="showReads('water_hard')">坚硬如水</a>
                            <a class="dropdown-item page-scroll" href="#" onclick="showReads('the_gay_science')">快乐的科学</a>
                        </div>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="nav-travels" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Travels
                        </a>
                        <div class="dropdown-menu" aria-labelledby="nav-travels">
                            <a class="dropdown-item page-scroll" href="travels/tokyo_2023.pdf" target="_blank">Tokyo 2023</a>
                            <a class="dropdown-item page-scroll" href="travels/liuyang_2024.pdf" target="_blank">浏阳 2024</a>
                        </div>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="./">Space</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" target="_blank" href="../">Home</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tooltip" data-placement="bottom" data-title="instagram" target="_blank" href="https://www.instagram.com/martibook"><em class="fa fa-instagram"></em></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tooltip" data-placement="bottom" data-title="github" target="_blank" href="https://github.com/martibook"><em class="fa fa-github"></em></a>
                    </li>
                </ul>
            </div>
        </nav>

        <div class="wrapper">
            <!--header section-->
            <section class="colored-section hero-header">
                <div class="container">
                    <div class="row">
                        <div class="col-md-8 offset-md-2">
                            <div id="brand" class="brand">
                                <h1 class="text-white">What's Going On</h1>
                                <h5 class="text-uppercase mb-5"></h5>
                                <a href="travels/liuyang_2024.pdf" target="_blank" class="btn btn-outline-white btn-round page-scroll">
                                    Recent Activity
                                </a>
                            </div>
                            <div id="reads" class="reads" style="display: none;"> 
                                <!-- to be filled by js -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!--footer-->
            <section class="colored-section bg-inverse">
                <div class="container">
                    <div class="row">
                        <div class="col-md-8 offset-md-2 text-center">
                            <p class="mt-5 text-muted px-5">
                                &copy; Since 2023.  
                                made by <a href="https://github.com/martibook">martibook</a>
                            </p>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.js"></script>
        <!--vendors-->
        <script src="../js/vendors/moment.min.js"></script>
        <script src="../js/vendors/daterangepicker/daterangepicker.js"></script>
        <!--custom js-->
        <!-- <script src="../js/app.js"></script> -->
        <script>
            function hideBrand() {
                var e = document.getElementById("brand");
                e.style.display = "none";
            }

            function removeReadsChildren() {
                var e = document.getElementById("reads");
                var child = e.lastElementChild;  
                while (child) { 
                    e.removeChild(child); 
                    child = e.lastElementChild; 
                } 
            }

            function showReads(name) {

                removeReadsChildren();

                hideBrand();  

                var e = document.getElementById("reads");
                e.style.display = "block";

                // test locally
                // let text = 
                //     'xxxxxxxxxxxxxxxxxxxxxxxxxxxx\nmmmmmmmmm\n\n一些中文';
                // var p = document.createElement('pre');
                // p.textContent = text;
                // e.appendChild(p);

                fetch(`./reads/${name}.txt`)
                    .then((response) => response.text())
                    .then((text) => {
                        var p = document.createElement('pre');
                        p.textContent = text;
                        e.appendChild(p);
                    });
            }

            function showReadsEachLine(name) {

                removeReadsChildren();

                hideBrand();  

                var e = document.getElementById("reads");
                e.style.display = "block";

                // test locally
                // let contents = [
                //     'xxxxxxxxxxxxxxxxxxxxxxxxxxxx',
                //     'mmmmmmmmm',
                //     'nnnnnnnnnnnnnnnnnnnnnnnn'
                // ]
                // for (const text of contents) {
                //     var p = document.createElement('p');
                //     p.textContent = text;
                //     e.appendChild(p);
                // }

                fetch(`./reads/${name}.txt`)
                    .then((response) => response.text())
                    .then((text) => {
                        const contents = text.split('\n');
                        for (const text of contents) {
                            var p = document.createElement('p');
                            p.textContent = text;
                            e.appendChild(p);
                        }
                    });
            }
        </script>
    </body>
</html>
